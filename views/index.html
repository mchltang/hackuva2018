<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title> Node Bootstrap Demo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="/styles/main.css">
</head>

<body>
    <div class="navbar-fixed">
        <nav>
            <div class="nav-wrapper"><a class="brand-logo" href="#!"><img src="/assets/images/safetrek-logo-white.png" alt="#{company_name}"></a><a class="button-collapse" href="#" data-activates="mobile-nav"><i class="material-icons">menu</i></a>
                <ul class="right hide-on-med-and-down">
                    <li><a target="_blank" href="https://github.com/SafeTrek/safetrek-node-bootstrap">Source</a></li>
                    <li><a target="_blank" href="https://docs.safetrek.io">Docs</a></li>
                </ul>
            </div>
        </nav>
    </div>
    <ul class="side-nav" id="mobile-nav">
        <li><a target="_blank" href="https://github.com/SafeTrek/safetrek-node-bootstrap">Source</a></li>
        <li><a target="_blank" href="https://docs.safetrek.io">Docs</a></li>
    </ul>
    <div class="container">
        <div class="row">
            <div class="col s12">

                <form>
                    <input type="text" name="text" value="">
                    <input type="submit" value="This is a button!">;
                </form>

                <p class="flow-text">This demo and the underlying app can be used to simplify, understand and debug the authorization flow used by API. You can bootstrap your projects with this app to quickly set them up for consuming the API.</p>
                <div class="section">
                    <h5 class="grey-text text-darken-1">Step 1</h5>
                    <div class="divider"></div>
                    <p>First step is to request to authenticate your app and your user by providing you with an <code>authorization_code</code>. The code will then be exchanged by this app with authorization server for an <code>access_token</code> and a
                        <code>refresh_token</code>. The retrieved code and tokens will be available for your reference in Step 2.</p>
                    <div class="row">
                        <div class="col s12 m4 offset-m4 center-align"><a class="safetrek-btn" href="#"><img class="responsive-img" src="/assets/images/safetrek-connect-button.png" alt="Connect to #{company_name}"></a>
                            <div class="connecting hide">
                                <h5 class="blue-text text-darken-4">Connecting...</h5>
                                <div class="progress blue darken-3">
                                    <div class="indeterminate blue darken-1"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12">
                <div class="section">
                    <h5 class="grey-text text-darken-1">Step 2</h5>
                    <div class="divider"></div>
                    <p>Once you have the access and refresh tokens, you can use the <code>refresh_token</code> to get a new <code>access_token</code>. This is useful because access tokens have limited validity, while refresh tokens don't expire. Make sure
                        to keep your refresh tokens safe. Access tokens are used frequently in the headers for making secure requests and hence are prone to theft and misuse. Limited validity thus makes them secure. Errors and state changes are logged
                        to the console.</p>
                    <div><code>authorization_code</code><input class="display-only" id="authorization_code" type="text"><code>refresh_token</code><input class="display-only" id="refresh_token" type="text"><code>access_token</code><input class="display-only"
                            id="access_token" type="text"><button class="btn waves-effect waves-light new-token" type="button">Get New</button></div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12">
                <div class="section">
                    <h5 class="grey-text text-darken-1">Step 3</h5>
                    <div class="divider"></div>
                    <p>Now you can use the <code>access_token</code> to make a secure requests to on behalf of your user. In this step, you will create an alarm for your authorized user. The sandbox server will be used for this example request. Locations
                        used are random and based off of a static JSON data source. Errors and state changes are logged to the console.</p>
                    <div class="row">
                        <div class="col s12 m6">
                            <div class="card">
                                <div class="card-content">
                                    <div class="card-title">Request</div><br><code>POST https://api-sandbox.safetrek.io/v1/alarms
Authorization: Bearer                         
Content-Type: application/json

</code><code class="alarm-request">{
  "services": {
    "police": true,
    "fire": false,
    "medical": false
  },
  "location.coordinates": {
    "lat": 34.32334,
    "lng": -117.3343,
    "accuracy": 5
  }
}</code></div>
                                <div class="card-action"><a class="blue-text text-darken-3 use-addr" href="#">Use Address</a><a class="blue-text text-darken-3 use-coords hide" href="#">Use Coordinates</a><br class="hide-on-med-and-up"><a class="blue-text text-darken-3 make-alarm-request"
                                        href="#">Make Request</a></div>
                            </div>
                        </div>
                        <div class="col s12 m6">
                            <div class="card">
                                <div class="card-content center-align">
                                    <div class="card-title">Alarm Status</div>
                                    <div class="alarm"></div>
                                    <p class="alarm-status"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col s12">
                <div class="section">
                    <h5 class="grey-text text-darken-1">Next Steps</h5>
                    <div class="divider"></div>
                    <p>Hope this demo helped you understand the authorization process for the API. Here's what you can do next:-
                    </p>
                    <ul>
                        <li>- Take a look at the code under the hood to figure out how it's all been put together.</li>
                        <li>- Check out the developer documentation from the nav menu to learn more about the API.</li>
                        <li>- Tinker around with the demo or replace it with your own app.</li>
                    </ul>
                    <p>Go ahead and build some awesome apps with API, but don't forget to share it with us. We would love to see what you come up with and the creative ways in which you use our API.
                    </p>
                    <p>Have fun!</p>
                </div>
            </div>
        </div>
        <footer>
            <div class="divider"></div>
            <p class="center-align">Built with â™¥ at <a href="https://www.safetrekapp.com/" target="_blank"></a></p>
        </footer>
    </div>
    <script src="/scripts/main.js"></script>
</body>

</html>